<!DOCTYPE html>
<html>
  <head>
      <title>Tabletops</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="css/Site.css" rel="stylesheet" media="screen">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('#nav-container').load('nav.html');
		});
	</script>
  </head>
  <body>
  <script type="text/javascript">
  function loadUsersTable(){
		 $.ajax({ 
			   type: "GET",  
		       url: "/SchoolRestJPA/rest/tabletopservices/clients",  
		       dataType: "json",  
		       success: function(resp){  
		         // we have the response  
		       
		         $('#clientsTable').html("");
		         var tableRow;
	  
		         $.each(resp, function(i, client){
		        		
		        	    tableRow = 
		        	        "<tr>"
		        	            +"<td>" + client.name + "</td>"	        	  
								+"<td><a href=\"javascript:editClient(" + client.clientID + ")\">Edit</a>&nbsp;<a href=\"javascript:deleteClient(" + client.clientID + ")\">Delete</a></td>"
		        	        +"</tr>";
		        	       
		        	$('#clientsTable').append(tableRow);
		         });
		       },  
		       error: function (jqXHR, exception) {
		    	    
		    	    alert(jqXHR.responseText);
		    	  }  
			});
	}

	function editClient(id){
		localStorage.client = id;
		document.location.href = "/StudentRest-HTML-JPA/WebContent/EditClient.html", true;  
		
	}

	function deleteClient(id){
		//call to delete client service
		
		//reload clientsTable after delete
		loadClientsTable();
	}
  </script>
   <div id="nav-container">

  </div>

    <div class="container">

     
      <div class="row"> 
     <h1>Users</h1> 
        </div>
        <div class="row">
          
        	<a href="#" class="btn btn-xs btn-primary pull-right"><i class="glyphicon glyphicon-plus"></i>New User</a>
        </div>
        <div class="row">
        <table class="table table-striped table-hover ">
  <thead>
    <tr>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
      <th>Actions</th>
      
    </tr>
  </thead>
  <tbody>
    <tr>
      
      <td>Debbie Downer</td>
      <td>ddowner</td>
      <td>ddowner@gmail.com</td>
      <td><a href="#">Edit</a>&nbsp;<a href="#">Delete</a></td>
   
    </tr>
    <tr>
      
      <td>Wendy Whiner</td>
      <td>wwhiner</td>
      <td>whhiner@gmail.com</td>
      <td><a href="#">Edit</a>&nbsp;<a href="#">Delete</a></td>
    </tr>
    <tr>
      <td>Sally Sassalot</td>
      <td>ssassalot</td>
      <td>ssassalot@gmail.com</td>
      <td><a href="#">Edit</a>&nbsp;<a href="#">Delete</a></td>
    </tr>
      </tbody>
</table>
</div>
     

    </div><!-- /.container -->
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>

</html>