<!DOCTYPE html>
<html>
  <head>
       <title>Tabletops</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="css/Site.css" rel="stylesheet" media="screen">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script type="text/javascript">
		$(document).ready(function() {
			$('#nav-container').load('nav.html');
			$('#clients').addClass('active');
			loadClientsTable();
		});
</script>
  </head>
 

 
<body>
<script type="text/javascript">
function loadClientsTable(){
	 $.ajax({ 
		   type: "GET",  
	       url: "/SchoolRestJPA/rest/tabletopservices/",  
	       dataType: "json",  
	       success: function(resp){  
	         // we have the response  
	       
	         $('#clientsTable').html("");
	         var tableRow;
				        
	         $.each(resp, function(i,student){
	        		
	        	    tableRow = 
	        	        "<tr>"
	        	            +"<td>" + student.firstName + " " + student.lastName + "</td>"	        	  
							+"<td><a href=\"javascript:editClient(" + student.idNumber + ")\">Edit</a>&nbsp;<a href=\"javascript:deleteClient(" + student.idNumber + ")\">Delete</a></td>"
	        	        +"</tr>";
	        	       
	        	$('#clientsTable').append(tableRow);
	         });
	       },  
	       error: function(e){  
	         alert('Error: ' + e);  
	       }  
		});
}

function editClient(id){
	
}

function deleteClient(id){
	//call to delete client service
	//reload clientsTable after delete
	loadClientsTable();
}
</script>
   <div id="nav-container">

  </div>  
  <div class="container">
      <div class="row"> 
    	 <h1>Clients</h1> 
      </div>
        <div class="row">
          
        	<a href="javascript:editClient(0)" class="btn btn-xs btn-primary pull-right"><i class="glyphicon glyphicon-plus"></i>New Client</a>
        </div>
        <div class="row">
        <table class="table table-striped table-hover ">
  <thead>
    <tr>
      
      <th>Client Name</th>
      <th>Actions</th>
      
    </tr>
  </thead>
  <tbody id="clientsTable">
   
      </tbody>
</table>
</div>
     
</div>

<!--     <script src="http://code.jquery.com/jquery.js"></script> -->
    <script src="js/bootstrap.min.js"></script>
 </body>
</html>